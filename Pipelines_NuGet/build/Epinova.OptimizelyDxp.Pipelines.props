<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <ItemGroup>
    <ReadmetxtFilesToCopy Include="$(MSBuildThisFileDirectory)..\content\readme.txt" />
    <ResetInteymlFilesToCopy Include="$(MSBuildThisFileDirectory)..\content\Reset-Inte.yml" />
    <ResetIntePrepProdymlFilesToCopy Include="$(MSBuildThisFileDirectory)..\content\Reset-IntePrepProd.yml" />
  </ItemGroup>

  <Target Name="CopyReadme" BeforeTargets="BeforeBuild">
    <Message Importance="high" Text="Copying the readme_epinova.txt file from '@(ReadmetxtFilesToCopy)' to '$(SolutionDir)Pipelines'"></Message>
    <Copy SourceFiles="@(ReadmetxtFilesToCopy)" DestinationFolder="$(SolutionDir)\Pipelines" SkipUnchangedFiles="true" UseHardlinksIfPossible="false" />
  </Target>
  <Target Name="CopyResetInteyml" BeforeTargets="BeforeBuild"> <!-- Condition="!Exists('$(SolutionDir)\DxpPipelines\Reset-Inte.yml')" -->
    <Message Importance="high" Text="Copying the Reset-Inte.yml file from '@(ResetInteymlFilesToCopy)' to '$(SolutionDir)Pipelines\Maintenance'"></Message>
    <Copy SourceFiles="@(ResetInteymlFilesToCopy)" DestinationFolder="$(SolutionDir)\Pipelines\Maintenance" SkipUnchangedFiles="true" UseHardlinksIfPossible="false" />
  </Target>
  <Target Name="CopyResetIntePrepProdyml" BeforeTargets="BeforeBuild">
    <Message Importance="high" Text="Copying the Reset-IntePrepProd.yml file from '@(ResetIntePrepProdymlFilesToCopy)' to '$(SolutionDir)Pipelines\Maintenance'"></Message>
    <Copy SourceFiles="@(ResetIntePrepProdymlFilesToCopy)" DestinationFolder="$(SolutionDir)\Pipelines\Maintenance" SkipUnchangedFiles="true" UseHardlinksIfPossible="false" />
  </Target>
</Project>